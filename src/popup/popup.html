<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sample Companion</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <!-- 确认提示面板 -->
    <div id="confirmPanel" class="confirm-panel hidden">
      <div class="confirm-content">
        <p id="confirmMessage" class="confirm-message"></p>
      </div>
      <div class="progress-bar">
        <div id="progressFill" class="progress-fill"></div>
      </div>
    </div>

    <main class="popup">
      <header class="header">
        <div class="header-title">
          <h1 data-i18n="popupTitle">Navigation Log</h1>
          <button id="settingsBtn" class="icon-btn" data-i18n-title="settingsBtnTitle" title="Settings">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M16.1667 12.5C16.0557 12.7513 16.0228 13.0302 16.0722 13.3005C16.1216 13.5708 16.2513 13.8203 16.4442 14.0167L16.4908 14.0633C16.6422 14.2146 16.7623 14.3944 16.8442 14.5925C16.9261 14.7906 16.9682 15.0031 16.9682 15.2175C16.9682 15.4319 16.9261 15.6444 16.8442 15.8425C16.7623 16.0406 16.6422 16.2204 16.4908 16.3717C16.3395 16.5231 16.1597 16.6432 15.9616 16.7251C15.7635 16.807 15.551 16.8491 15.3367 16.8491C15.1223 16.8491 14.9098 16.807 14.7117 16.7251C14.5136 16.6432 14.3338 16.5231 14.1825 16.3717L14.1358 16.325C13.9395 16.1321 13.69 16.0024 13.4197 15.953C13.1494 15.9036 12.8705 15.9365 12.6192 16.0475C12.3726 16.1538 12.1615 16.3294 12.0112 16.5532C11.8609 16.777 11.7781 17.0395 11.7733 17.3083V17.5C11.7733 17.9421 11.5977 18.3659 11.2851 18.6785C10.9726 18.9911 10.5488 19.1667 10.1067 19.1667C9.66449 19.1667 9.24074 18.9911 8.92818 18.6785C8.61562 18.3659 8.44 17.9421 8.44 17.5V17.4267C8.42974 17.1483 8.33586 16.8791 8.17086 16.6527C8.00586 16.4263 7.77702 16.2525 7.51333 16.1533C7.26203 16.0423 6.98312 16.0094 6.71283 16.0588C6.44253 16.1082 6.19304 16.2379 5.99667 16.4308L5.95 16.4775C5.79868 16.6289 5.61886 16.749 5.42078 16.8309C5.22269 16.9128 5.01017 16.9549 4.79583 16.9549C4.5815 16.9549 4.36898 16.9128 4.17089 16.8309C3.97281 16.749 3.79299 16.6289 3.64167 16.4775C3.49029 16.3262 3.37021 16.1464 3.28832 15.9483C3.20642 15.7502 3.1643 15.5377 3.1643 15.3233C3.1643 15.109 3.20642 14.8965 3.28832 14.6984C3.37021 14.5003 3.49029 14.3205 3.64167 14.1692L3.68833 14.1225C3.88125 13.9261 4.01094 13.6767 4.06036 13.4064C4.10978 13.1361 4.07687 12.8572 3.96583 12.6058C3.85954 12.3592 3.68392 12.1481 3.46012 11.9978C3.23632 11.8476 2.97383 11.7647 2.705 11.76H2.51333C2.07116 11.76 1.64741 11.5843 1.33485 11.2718C1.02229 10.9592 0.846664 10.5355 0.846664 10.0933C0.846664 9.65115 1.02229 9.2274 1.33485 8.91484C1.64741 8.60228 2.07116 8.42666 2.51333 8.42666H2.58667C2.86509 8.4164 3.13428 8.32252 3.36068 8.15752C3.58709 7.99252 3.76088 7.76368 3.86 7.49999C3.97104 7.24869 4.00395 6.96978 3.95453 6.69949C3.90511 6.42919 3.77542 6.17971 3.5825 5.98333L3.53583 5.93666C3.38445 5.78534 3.26438 5.60552 3.18248 5.40743C3.10058 5.20935 3.05846 4.99683 3.05846 4.78249C3.05846 4.56816 3.10058 4.35564 3.18248 4.15755C3.26438 3.95947 3.38445 3.77965 3.53583 3.62833C3.68715 3.47695 3.86697 3.35687 4.06506 3.27497C4.26314 3.19308 4.47566 3.15096 4.69 3.15096C4.90434 3.15096 5.11685 3.19308 5.31494 3.27497C5.51303 3.35687 5.69285 3.47695 5.84417 3.62833L5.89083 3.67499C6.08721 3.86791 6.3367 3.9976 6.60699 4.04702C6.87729 4.09644 7.1562 4.06353 7.4075 3.95249H7.51333C7.75996 3.8462 7.97106 3.67058 8.12133 3.44678C8.2716 3.22298 8.35445 2.96049 8.35917 2.69166V2.49999C8.35917 2.05782 8.53479 1.63407 8.84735 1.32151C9.15991 1.00895 9.58366 0.833328 10.0258 0.833328C10.468 0.833328 10.8918 1.00895 11.2043 1.32151C11.5169 1.63407 11.6925 2.05782 11.6925 2.49999V2.57333C11.6972 2.84216 11.7801 3.10465 11.9303 3.32845C12.0806 3.55225 12.2917 3.72787 12.5383 3.83416C12.7896 3.9452 13.0685 3.97811 13.3388 3.92869C13.6091 3.87927 13.8586 3.74958 14.055 3.55666L14.1017 3.50999C14.253 3.35861 14.4328 3.23854 14.6309 3.15664C14.829 3.07474 15.0415 3.03262 15.2558 3.03262C15.4702 3.03262 15.6827 3.07474 15.8808 3.15664C16.0789 3.23854 16.2587 3.35861 16.41 3.50999C16.5614 3.66131 16.6814 3.84113 16.7633 4.03922C16.8452 4.2373 16.8874 4.44982 16.8874 4.66416C16.8874 4.8785 16.8452 5.09101 16.7633 5.2891C16.6814 5.48719 16.5614 5.66701 16.41 5.81833L16.3633 5.86499C16.1704 6.06137 16.0407 6.31086 15.9913 6.58115C15.9419 6.85145 15.9748 7.13036 16.0858 7.38166V7.48749C16.1921 7.73412 16.3677 7.94522 16.5915 8.09549C16.8153 8.24576 17.0778 8.32861 17.3467 8.33333H17.5383C17.9805 8.33333 18.4043 8.50895 18.7168 8.82151C19.0294 9.13407 19.205 9.55782 19.205 9.99999C19.205 10.4422 19.0294 10.8659 18.7168 11.1785C18.4043 11.491 17.9805 11.6667 17.5383 11.6667H17.465C17.1962 11.6714 16.9337 11.7542 16.7099 11.9045C16.4861 12.0548 16.3104 12.2659 16.2042 12.5125L16.1667 12.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        <p class="usage" id="usageText" data-i18n-dynamic="popupUsage">
          Use Alt/Option + [ for Back and Alt/Option + ] for Forward. Repeat the command to close or reopen tabs when navigation is unavailable.
        </p>
      </header>
      <section class="log-panel">
        <p class="log-hint" data-i18n="logHint">Recent 20 entries. URLs and titles are never stored.</p>
        <div class="controls">
          <label class="switch">
            <input type="checkbox" id="loggingToggle" checked />
            <span class="switch-slider" aria-hidden="true"></span>
            <span class="switch-label" data-i18n="loggingToggleLabel">Enable logging</span>
          </label>
          <button id="clear" data-i18n="clearBtn">Clear</button>
        </div>
        <ul id="logList" class="log-list">
          <li class="empty" data-i18n="logEmpty">No entries yet</li>
        </ul>
      </section>
    </main>
    <script type="module" src="popup.js"></script>
  </body>
</html>
